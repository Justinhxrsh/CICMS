{"remainingRequest":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/justin/Desktop/CICMS/src/components/ContextMenu.vue?vue&type=style&index=0&id=2cd1f2a4&scoped=true&lang=css","dependencies":[{"path":"/home/justin/Desktop/CICMS/src/components/ContextMenu.vue","mtime":1771824397128},{"path":"/home/justin/Desktop/CICMS/node_modules/css-loader/index.js","mtime":1771824223788},{"path":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1771824231667},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js","mtime":1771824228358}],"contextDependencies":[],"result":["\n.context-menu {\n  position: fixed;\n  z-index: 2000;\n  background: rgba(15, 10, 5, 0.95);\n  border: 1px solid #f5d44a;\n  border-radius: 4px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);\n  min-width: 120px;\n  overflow: hidden;\n}\n\n.menu-header {\n  padding: 8px 12px;\n  background: rgba(245, 212, 74, 0.1);\n  border-bottom: 1px solid rgba(245, 212, 74, 0.2);\n  color: #f5d44a;\n  font-size: 11px;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.menu-options {\n  display: flex;\n  flex-direction: column;\n}\n\n.menu-btn {\n  background: transparent;\n  border: none;\n  padding: 10px 14px;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 13px;\n  text-align: left;\n  cursor: pointer;\n  transition: all 0.15s;\n}\n\n.menu-btn:hover {\n  background: rgba(245, 212, 74, 0.15);\n  color: #f5d44a;\n}\n\n.menu-btn.cancel {\n  border-top: 1px solid rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.4);\n}\n\n.menu-btn.cancel:hover {\n  color: #ff6b6b;\n  background: rgba(255, 107, 107, 0.05);\n}\n",{"version":3,"sources":["ContextMenu.vue"],"names":[],"mappings":";AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ContextMenu.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div\n    v-if=\"visible\"\n    class=\"context-menu\"\n    :style=\"{ top: y + 'px', left: x + 'px' }\"\n    @mouseleave=\"hide\"\n  >\n    <div class=\"menu-header\" v-if=\"title\">\n      {{ title }}\n    </div>\n    <div class=\"menu-options\">\n      <button\n        v-for=\"opt in options\"\n        :key=\"opt.label\"\n        @click=\"opt.action\"\n        class=\"menu-btn\"\n      >\n        <span class=\"opt-label\">{{ opt.label }}</span>\n      </button>\n      <button class=\"menu-btn cancel\" @click=\"hide\">\n        <span class=\"opt-label\">Cancel</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport wsService from '../services/websocket';\n\nexport default {\n  name: 'ContextMenu',\n  data() {\n    return {\n      visible: false,\n      x: 0,\n      y: 0,\n      title: '',\n      options: [],\n    };\n  },\n  mounted() {\n    this.$root.$on('show-context-menu', this.show);\n    window.addEventListener('click', this.hide);\n  },\n  beforeDestroy() {\n    this.$root.$off('show-context-menu', this.show);\n    window.removeEventListener('click', this.hide);\n  },\n  methods: {\n    show({ event, type, item, npc, worldItem, slot, index, options }) {\n      this.x = event.clientX;\n      this.y = event.clientY;\n      this.options = options || [];\n      this.visible = true;\n\n      // Adjust position if too close to edges\n      this.$nextTick(() => {\n        const menu = this.$el;\n        if (!menu) return;\n        if (this.x + menu.offsetWidth > window.innerWidth) this.x -= menu.offsetWidth;\n        if (this.y + menu.offsetHeight > window.innerHeight) this.y -= menu.offsetHeight;\n      });\n\n      if (this.options.length > 0) {\n        this.title = (npc && npc.name) || (item && item.name) || (worldItem && worldItem.name) || 'Actions';\n        return;\n      }\n\n      if (type === 'item') {\n        this.title = item.name;\n        if (item.equippable) {\n          this.options.push({ label: 'Equip', action: () => wsService.equip(item.id) });\n        }\n        if (item.consumable) {\n          this.options.push({ label: 'Use', action: () => wsService.consume(item.id) });\n        }\n        this.options.push({ label: 'Drop', action: () => console.log('Drop not implemented') });\n      } else if (type === 'equipment') {\n        this.title = item.name;\n        this.options.push({ label: 'Unequip', action: () => wsService.unequip(slot) });\n      } else if (type === 'npc') {\n        this.title = npc.name;\n        this.options.push({ label: 'Talk', action: () => wsService.interact(npc.id, 'npc') });\n        if (npc.isMerchant) {\n          this.options.push({ label: 'Trade', action: () => wsService.interact(npc.id, 'npc') });\n        }\n        if (npc.isBanker) {\n          this.options.push({ label: 'Bank', action: () => wsService.interact(npc.id, 'npc') });\n        }\n      } else if (type === 'worldItem') {\n        this.title = worldItem.name;\n        this.options.push({ label: 'Pick up', action: () => wsService.interact(worldItem.id, 'item') });\n      } else if (type === 'resource') {\n        this.title = worldItem.name;\n        this.options.push({ label: 'Gather', action: () => wsService.gather(worldItem.id, worldItem.zoneKey) });\n      }\n    },\n    hide() {\n      this.visible = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.context-menu {\n  position: fixed;\n  z-index: 2000;\n  background: rgba(15, 10, 5, 0.95);\n  border: 1px solid #f5d44a;\n  border-radius: 4px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);\n  min-width: 120px;\n  overflow: hidden;\n}\n\n.menu-header {\n  padding: 8px 12px;\n  background: rgba(245, 212, 74, 0.1);\n  border-bottom: 1px solid rgba(245, 212, 74, 0.2);\n  color: #f5d44a;\n  font-size: 11px;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.menu-options {\n  display: flex;\n  flex-direction: column;\n}\n\n.menu-btn {\n  background: transparent;\n  border: none;\n  padding: 10px 14px;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 13px;\n  text-align: left;\n  cursor: pointer;\n  transition: all 0.15s;\n}\n\n.menu-btn:hover {\n  background: rgba(245, 212, 74, 0.15);\n  color: #f5d44a;\n}\n\n.menu-btn.cancel {\n  border-top: 1px solid rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.4);\n}\n\n.menu-btn.cancel:hover {\n  color: #ff6b6b;\n  background: rgba(255, 107, 107, 0.05);\n}\n</style>\n"]}]}