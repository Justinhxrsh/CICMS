{"remainingRequest":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/justin/Desktop/CICMS/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/justin/Desktop/CICMS/src/views/Login.vue","mtime":1771823426965},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js","mtime":1771824228601},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js","mtime":1771824228358}],"contextDependencies":[],"result":["\nimport wsService from '../services/websocket';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      playerName: '',\n      loading: false,\n      errorMsg: '',\n      serverOnline: false,\n      selectedColor: '#4a90e2',\n      avatarColors: [\n        '#4a90e2', '#e24a4a', '#4ae27a', '#e2c44a',\n        '#c44ae2', '#4ae2d9', '#e27a4a', '#aaaaaa',\n      ],\n    };\n  },\n  computed: {\n    canJoin() {\n      return this.playerName.trim().length >= 2 && this.playerName.trim().length <= 20;\n    },\n  },\n  mounted() {\n    this.checkServer();\n    // Restore last name\n    const saved = localStorage.getItem('delaford_player');\n    if (saved) {\n      try {\n        const data = JSON.parse(saved);\n        if (data.name) this.playerName = data.name;\n      } catch (e) {\n        // ignore\n      }\n    }\n  },\n  methods: {\n    async checkServer() {\n      try {\n        const ws = new WebSocket(`ws://${window.location.hostname}:6500`);\n        ws.onopen = () => {\n          this.serverOnline = true;\n          ws.close();\n        };\n        ws.onerror = () => {\n          this.serverOnline = false;\n        };\n      } catch (e) {\n        this.serverOnline = false;\n      }\n    },\n    async joinGame() {\n      if (!this.canJoin || this.loading) return;\n      this.errorMsg = '';\n      this.loading = true;\n\n      const name = this.playerName.trim();\n\n      try {\n        await wsService.connect(name);\n        localStorage.setItem('delaford_player', JSON.stringify({ name }));\n        this.$router.push('/game');\n      } catch (err) {\n        this.errorMsg = err.message || 'Failed to connect. Make sure the server is running.';\n        this.loading = false;\n      }\n    },\n  },\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AA8EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"login-page\">\n    <div class=\"stars\"></div>\n    <div class=\"login-container\">\n      <div class=\"game-logo\">\n        <div class=\"logo-emblem\">‚öîÔ∏è</div>\n        <h1 class=\"game-title\">DELAFORD</h1>\n        <p class=\"game-subtitle\">A Multiplayer Medieval RPG</p>\n      </div>\n\n      <div class=\"login-card\">\n        <h2>Enter The Realm</h2>\n\n        <div v-if=\"errorMsg\" class=\"error-banner\">\n          ‚ö†Ô∏è {{ errorMsg }}\n        </div>\n\n        <div class=\"input-group\">\n          <label for=\"player-name\">Character Name</label>\n          <input\n            id=\"player-name\"\n            v-model=\"playerName\"\n            type=\"text\"\n            placeholder=\"Enter your name...\"\n            maxlength=\"20\"\n            minlength=\"2\"\n            @keyup.enter=\"joinGame\"\n            :disabled=\"loading\"\n            autocomplete=\"off\"\n            spellcheck=\"false\"\n          />\n          <span class=\"char-count\">{{ playerName.length }}/20</span>\n        </div>\n\n        <div class=\"avatar-preview\">\n          <div class=\"avatar-circle\" :style=\"{ backgroundColor: selectedColor }\">\n            {{ playerName.charAt(0).toUpperCase() || '?' }}\n          </div>\n          <div class=\"color-options\">\n            <div\n              v-for=\"color in avatarColors\"\n              :key=\"color\"\n              class=\"color-dot\"\n              :class=\"{ active: selectedColor === color }\"\n              :style=\"{ backgroundColor: color }\"\n              @click=\"selectedColor = color\"\n            ></div>\n          </div>\n        </div>\n\n        <button\n          id=\"join-btn\"\n          class=\"join-btn\"\n          :disabled=\"!canJoin || loading\"\n          @click=\"joinGame\"\n        >\n          <span v-if=\"loading\" class=\"loading-spinner\">‚è≥</span>\n          <span v-else>‚öîÔ∏è Enter Delaford</span>\n        </button>\n\n        <div class=\"server-status\">\n          <span class=\"status-dot\" :class=\"{ online: serverOnline, offline: !serverOnline }\"></span>\n          {{ serverOnline ? 'Server Online' : 'Checking server...' }}\n        </div>\n      </div>\n\n      <div class=\"feature-list\">\n        <div class=\"feature\">üó°Ô∏è Real-time Multiplayer</div>\n        <div class=\"feature\">üè™ Trading &amp; Shops</div>\n        <div class=\"feature\">‚õèÔ∏è Mining &amp; Gathering</div>\n        <div class=\"feature\">üè¶ Banking System</div>\n        <div class=\"feature\">üó∫Ô∏è Explorable World</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport wsService from '../services/websocket';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      playerName: '',\n      loading: false,\n      errorMsg: '',\n      serverOnline: false,\n      selectedColor: '#4a90e2',\n      avatarColors: [\n        '#4a90e2', '#e24a4a', '#4ae27a', '#e2c44a',\n        '#c44ae2', '#4ae2d9', '#e27a4a', '#aaaaaa',\n      ],\n    };\n  },\n  computed: {\n    canJoin() {\n      return this.playerName.trim().length >= 2 && this.playerName.trim().length <= 20;\n    },\n  },\n  mounted() {\n    this.checkServer();\n    // Restore last name\n    const saved = localStorage.getItem('delaford_player');\n    if (saved) {\n      try {\n        const data = JSON.parse(saved);\n        if (data.name) this.playerName = data.name;\n      } catch (e) {\n        // ignore\n      }\n    }\n  },\n  methods: {\n    async checkServer() {\n      try {\n        const ws = new WebSocket(`ws://${window.location.hostname}:6500`);\n        ws.onopen = () => {\n          this.serverOnline = true;\n          ws.close();\n        };\n        ws.onerror = () => {\n          this.serverOnline = false;\n        };\n      } catch (e) {\n        this.serverOnline = false;\n      }\n    },\n    async joinGame() {\n      if (!this.canJoin || this.loading) return;\n      this.errorMsg = '';\n      this.loading = true;\n\n      const name = this.playerName.trim();\n\n      try {\n        await wsService.connect(name);\n        localStorage.setItem('delaford_player', JSON.stringify({ name }));\n        this.$router.push('/game');\n      } catch (err) {\n        this.errorMsg = err.message || 'Failed to connect. Make sure the server is running.';\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=MedievalSharp&family=Cinzel:wght@400;600;900&family=Inter:wght@400;500;600&display=swap');\n\n#login-page {\n  min-height: 100vh;\n  background: radial-gradient(ellipse at center, #1a0a2e 0%, #0a0a1a 60%, #000010 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  position: relative;\n  font-family: 'Inter', sans-serif;\n}\n\n.stars {\n  position: absolute;\n  inset: 0;\n  background-image:\n    radial-gradient(1px 1px at 20% 30%, #fff 0%, transparent 100%),\n    radial-gradient(1px 1px at 80% 10%, #fff 0%, transparent 100%),\n    radial-gradient(1px 1px at 50% 60%, rgba(255,255,255,0.7) 0%, transparent 100%),\n    radial-gradient(1px 1px at 10% 80%, #fff 0%, transparent 100%),\n    radial-gradient(1px 1px at 90% 70%, rgba(255,255,255,0.8) 0%, transparent 100%),\n    radial-gradient(2px 2px at 40% 20%, rgba(255,255,200,0.9) 0%, transparent 100%),\n    radial-gradient(1px 1px at 70% 85%, #fff 0%, transparent 100%),\n    radial-gradient(1px 1px at 30% 50%, rgba(255,255,255,0.6) 0%, transparent 100%);\n  animation: twinkle 5s ease-in-out infinite alternate;\n}\n\n@keyframes twinkle {\n  0% { opacity: 0.7; }\n  100% { opacity: 1; }\n}\n\n.login-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 24px;\n  z-index: 10;\n  padding: 20px;\n}\n\n.game-logo {\n  text-align: center;\n}\n\n.logo-emblem {\n  font-size: 56px;\n  filter: drop-shadow(0 0 20px rgba(255, 200, 50, 0.8));\n  animation: float 3s ease-in-out infinite;\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0); }\n  50% { transform: translateY(-8px); }\n}\n\n.game-title {\n  font-family: 'Cinzel', serif;\n  font-size: 52px;\n  font-weight: 900;\n  background: linear-gradient(135deg, #f5d44a 0%, #e8a020 40%, #f5d44a 80%, #c8831a 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  letter-spacing: 8px;\n  margin: 8px 0 4px;\n  text-shadow: none;\n  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));\n}\n\n.game-subtitle {\n  color: rgba(255,255,255,0.5);\n  font-size: 13px;\n  letter-spacing: 3px;\n  text-transform: uppercase;\n  margin: 0;\n}\n\n.login-card {\n  background: rgba(255,255,255,0.04);\n  border: 1px solid rgba(255,200,50,0.2);\n  border-radius: 16px;\n  padding: 32px;\n  width: 380px;\n  backdrop-filter: blur(20px);\n  box-shadow:\n    0 20px 60px rgba(0,0,0,0.5),\n    inset 0 1px 0 rgba(255,255,255,0.08);\n}\n\n.login-card h2 {\n  font-family: 'Cinzel', serif;\n  color: #f5d44a;\n  font-size: 20px;\n  text-align: center;\n  margin: 0 0 24px;\n  letter-spacing: 2px;\n}\n\n.error-banner {\n  background: rgba(220, 50, 50, 0.15);\n  border: 1px solid rgba(220,50,50,0.3);\n  border-radius: 8px;\n  padding: 10px 14px;\n  color: #ff8080;\n  font-size: 13px;\n  margin-bottom: 16px;\n}\n\n.input-group {\n  position: relative;\n  margin-bottom: 20px;\n}\n\n.input-group label {\n  display: block;\n  color: rgba(255,255,255,0.6);\n  font-size: 12px;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  margin-bottom: 8px;\n}\n\n.input-group input {\n  width: 100%;\n  background: rgba(0,0,0,0.4);\n  border: 1px solid rgba(255,200,50,0.2);\n  border-radius: 8px;\n  padding: 12px 14px;\n  color: #fff;\n  font-size: 16px;\n  font-family: 'Inter', sans-serif;\n  outline: none;\n  transition: border-color 0.2s, box-shadow 0.2s;\n  box-sizing: border-box;\n}\n\n.input-group input:focus {\n  border-color: rgba(245,212,74,0.6);\n  box-shadow: 0 0 0 3px rgba(245,212,74,0.1);\n}\n\n.input-group input::placeholder {\n  color: rgba(255,255,255,0.2);\n}\n\n.char-count {\n  position: absolute;\n  right: 12px;\n  bottom: 12px;\n  font-size: 11px;\n  color: rgba(255,255,255,0.3);\n}\n\n.avatar-preview {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 24px;\n}\n\n.avatar-circle {\n  width: 56px;\n  height: 56px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  font-weight: 700;\n  color: white;\n  text-shadow: 0 1px 3px rgba(0,0,0,0.5);\n  border: 2px solid rgba(255,255,255,0.2);\n  flex-shrink: 0;\n}\n\n.color-options {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.color-dot {\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  cursor: pointer;\n  border: 2px solid transparent;\n  transition: transform 0.15s, border-color 0.15s;\n}\n\n.color-dot:hover {\n  transform: scale(1.15);\n}\n\n.color-dot.active {\n  border-color: white;\n  transform: scale(1.2);\n}\n\n.join-btn {\n  width: 100%;\n  padding: 14px;\n  background: linear-gradient(135deg, #c8831a 0%, #f5d44a 50%, #c8831a 100%);\n  border: none;\n  border-radius: 10px;\n  color: #1a0a00;\n  font-size: 16px;\n  font-weight: 700;\n  font-family: 'Cinzel', serif;\n  letter-spacing: 1px;\n  cursor: pointer;\n  transition: all 0.2s;\n  box-shadow: 0 4px 20px rgba(200,131,26,0.4);\n}\n\n.join-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 30px rgba(200,131,26,0.6);\n}\n\n.join-btn:active:not(:disabled) {\n  transform: translateY(0);\n}\n\n.join-btn:disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n\n.server-status {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-top: 16px;\n  justify-content: center;\n  font-size: 12px;\n  color: rgba(255,255,255,0.4);\n}\n\n.status-dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #666;\n}\n\n.status-dot.online {\n  background: #4ae27a;\n  box-shadow: 0 0 6px rgba(74,226,122,0.6);\n}\n\n.status-dot.offline {\n  background: #e24a4a;\n}\n\n.feature-list {\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.feature {\n  background: rgba(255,255,255,0.05);\n  border: 1px solid rgba(255,255,255,0.1);\n  border-radius: 20px;\n  padding: 6px 14px;\n  font-size: 12px;\n  color: rgba(255,255,255,0.5);\n}\n</style>\n"]}]}