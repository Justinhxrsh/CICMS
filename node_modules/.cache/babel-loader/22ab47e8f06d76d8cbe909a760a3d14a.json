{"remainingRequest":"/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js!/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/justin/Desktop/CICMS/src/components/ContextMenu.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/justin/Desktop/CICMS/src/components/ContextMenu.vue","mtime":1771824397128},{"path":"/home/justin/Desktop/CICMS/babel.config.js","mtime":1771823009049},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js","mtime":1771824228601},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js","mtime":1771824228358}],"contextDependencies":[],"result":["import wsService from '../services/websocket';\nexport default {\n  name: 'ContextMenu',\n  data() {\n    return {\n      visible: false,\n      x: 0,\n      y: 0,\n      title: '',\n      options: []\n    };\n  },\n  mounted() {\n    this.$root.$on('show-context-menu', this.show);\n    window.addEventListener('click', this.hide);\n  },\n  beforeDestroy() {\n    this.$root.$off('show-context-menu', this.show);\n    window.removeEventListener('click', this.hide);\n  },\n  methods: {\n    show({\n      event,\n      type,\n      item,\n      npc,\n      worldItem,\n      slot,\n      index,\n      options\n    }) {\n      this.x = event.clientX;\n      this.y = event.clientY;\n      this.options = options || [];\n      this.visible = true;\n\n      // Adjust position if too close to edges\n      this.$nextTick(() => {\n        const menu = this.$el;\n        if (!menu) return;\n        if (this.x + menu.offsetWidth > window.innerWidth) this.x -= menu.offsetWidth;\n        if (this.y + menu.offsetHeight > window.innerHeight) this.y -= menu.offsetHeight;\n      });\n      if (this.options.length > 0) {\n        this.title = npc && npc.name || item && item.name || worldItem && worldItem.name || 'Actions';\n        return;\n      }\n      if (type === 'item') {\n        this.title = item.name;\n        if (item.equippable) {\n          this.options.push({\n            label: 'Equip',\n            action: () => wsService.equip(item.id)\n          });\n        }\n        if (item.consumable) {\n          this.options.push({\n            label: 'Use',\n            action: () => wsService.consume(item.id)\n          });\n        }\n        this.options.push({\n          label: 'Drop',\n          action: () => console.log('Drop not implemented')\n        });\n      } else if (type === 'equipment') {\n        this.title = item.name;\n        this.options.push({\n          label: 'Unequip',\n          action: () => wsService.unequip(slot)\n        });\n      } else if (type === 'npc') {\n        this.title = npc.name;\n        this.options.push({\n          label: 'Talk',\n          action: () => wsService.interact(npc.id, 'npc')\n        });\n        if (npc.isMerchant) {\n          this.options.push({\n            label: 'Trade',\n            action: () => wsService.interact(npc.id, 'npc')\n          });\n        }\n        if (npc.isBanker) {\n          this.options.push({\n            label: 'Bank',\n            action: () => wsService.interact(npc.id, 'npc')\n          });\n        }\n      } else if (type === 'worldItem') {\n        this.title = worldItem.name;\n        this.options.push({\n          label: 'Pick up',\n          action: () => wsService.interact(worldItem.id, 'item')\n        });\n      } else if (type === 'resource') {\n        this.title = worldItem.name;\n        this.options.push({\n          label: 'Gather',\n          action: () => wsService.gather(worldItem.id, worldItem.zoneKey)\n        });\n      }\n    },\n    hide() {\n      this.visible = false;\n    }\n  }\n};",{"version":3,"names":["wsService","name","data","visible","x","y","title","options","mounted","$root","$on","show","window","addEventListener","hide","beforeDestroy","$off","removeEventListener","methods","event","type","item","npc","worldItem","slot","index","clientX","clientY","$nextTick","menu","$el","offsetWidth","innerWidth","offsetHeight","innerHeight","length","equippable","push","label","action","equip","id","consumable","consume","console","log","unequip","interact","isMerchant","isBanker","gather","zoneKey"],"sources":["src/components/ContextMenu.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"visible\"\n    class=\"context-menu\"\n    :style=\"{ top: y + 'px', left: x + 'px' }\"\n    @mouseleave=\"hide\"\n  >\n    <div class=\"menu-header\" v-if=\"title\">\n      {{ title }}\n    </div>\n    <div class=\"menu-options\">\n      <button\n        v-for=\"opt in options\"\n        :key=\"opt.label\"\n        @click=\"opt.action\"\n        class=\"menu-btn\"\n      >\n        <span class=\"opt-label\">{{ opt.label }}</span>\n      </button>\n      <button class=\"menu-btn cancel\" @click=\"hide\">\n        <span class=\"opt-label\">Cancel</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport wsService from '../services/websocket';\n\nexport default {\n  name: 'ContextMenu',\n  data() {\n    return {\n      visible: false,\n      x: 0,\n      y: 0,\n      title: '',\n      options: [],\n    };\n  },\n  mounted() {\n    this.$root.$on('show-context-menu', this.show);\n    window.addEventListener('click', this.hide);\n  },\n  beforeDestroy() {\n    this.$root.$off('show-context-menu', this.show);\n    window.removeEventListener('click', this.hide);\n  },\n  methods: {\n    show({ event, type, item, npc, worldItem, slot, index, options }) {\n      this.x = event.clientX;\n      this.y = event.clientY;\n      this.options = options || [];\n      this.visible = true;\n\n      // Adjust position if too close to edges\n      this.$nextTick(() => {\n        const menu = this.$el;\n        if (!menu) return;\n        if (this.x + menu.offsetWidth > window.innerWidth) this.x -= menu.offsetWidth;\n        if (this.y + menu.offsetHeight > window.innerHeight) this.y -= menu.offsetHeight;\n      });\n\n      if (this.options.length > 0) {\n        this.title = (npc && npc.name) || (item && item.name) || (worldItem && worldItem.name) || 'Actions';\n        return;\n      }\n\n      if (type === 'item') {\n        this.title = item.name;\n        if (item.equippable) {\n          this.options.push({ label: 'Equip', action: () => wsService.equip(item.id) });\n        }\n        if (item.consumable) {\n          this.options.push({ label: 'Use', action: () => wsService.consume(item.id) });\n        }\n        this.options.push({ label: 'Drop', action: () => console.log('Drop not implemented') });\n      } else if (type === 'equipment') {\n        this.title = item.name;\n        this.options.push({ label: 'Unequip', action: () => wsService.unequip(slot) });\n      } else if (type === 'npc') {\n        this.title = npc.name;\n        this.options.push({ label: 'Talk', action: () => wsService.interact(npc.id, 'npc') });\n        if (npc.isMerchant) {\n          this.options.push({ label: 'Trade', action: () => wsService.interact(npc.id, 'npc') });\n        }\n        if (npc.isBanker) {\n          this.options.push({ label: 'Bank', action: () => wsService.interact(npc.id, 'npc') });\n        }\n      } else if (type === 'worldItem') {\n        this.title = worldItem.name;\n        this.options.push({ label: 'Pick up', action: () => wsService.interact(worldItem.id, 'item') });\n      } else if (type === 'resource') {\n        this.title = worldItem.name;\n        this.options.push({ label: 'Gather', action: () => wsService.gather(worldItem.id, worldItem.zoneKey) });\n      }\n    },\n    hide() {\n      this.visible = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.context-menu {\n  position: fixed;\n  z-index: 2000;\n  background: rgba(15, 10, 5, 0.95);\n  border: 1px solid #f5d44a;\n  border-radius: 4px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);\n  min-width: 120px;\n  overflow: hidden;\n}\n\n.menu-header {\n  padding: 8px 12px;\n  background: rgba(245, 212, 74, 0.1);\n  border-bottom: 1px solid rgba(245, 212, 74, 0.2);\n  color: #f5d44a;\n  font-size: 11px;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n.menu-options {\n  display: flex;\n  flex-direction: column;\n}\n\n.menu-btn {\n  background: transparent;\n  border: none;\n  padding: 10px 14px;\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 13px;\n  text-align: left;\n  cursor: pointer;\n  transition: all 0.15s;\n}\n\n.menu-btn:hover {\n  background: rgba(245, 212, 74, 0.15);\n  color: #f5d44a;\n}\n\n.menu-btn.cancel {\n  border-top: 1px solid rgba(255, 255, 255, 0.05);\n  color: rgba(255, 255, 255, 0.4);\n}\n\n.menu-btn.cancel:hover {\n  color: #ff6b6b;\n  background: rgba(255, 107, 107, 0.05);\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}