{"remainingRequest":"/home/justin/Desktop/CICMS/node_modules/thread-loader/dist/cjs.js!/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js!/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/justin/Desktop/CICMS/src/components/GameCanvas.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/justin/Desktop/CICMS/src/components/GameCanvas.vue","mtime":1771871666272},{"path":"/home/justin/Desktop/CICMS/babel.config.js","mtime":1771823009049},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/thread-loader/dist/cjs.js","mtime":1771824225135},{"path":"/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js","mtime":1771824228601},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js","mtime":1771824228358}],"contextDependencies":[],"result":["import wsService from '../services/websocket';\nconst TILE_SIZE = 32;\nconst TILE_COLORS = {\n  0: '#4a7c3f',\n  // grass\n  1: '#2b5eab',\n  // water\n  2: '#6e6e6e',\n  // mountain\n  3: '#2d5a1b',\n  // tree\n  4: '#8b7355',\n  // path\n  5: '#a08060',\n  // wall\n  6: '#444444',\n  // mine\n  7: '#c8a228',\n  // bank\n  8: '#8a5a2a',\n  // shop\n  9: '#c8b87a',\n  // sand\n  10: '#5a8f3a' // flower\n};\nexport default {\n  name: 'GameCanvas',\n  data() {\n    return {\n      canvas: null,\n      ctx: null,\n      animFrame: null,\n      cameraX: 0,\n      cameraY: 0,\n      mouseCol: -1,\n      mouseRow: -1,\n      animTick: 0,\n      lastFrame: 0,\n      // Pre-compute map for rendering\n      worldMap: null,\n      hoverEntity: null\n    };\n  },\n  computed: {\n    player() {\n      return this.$store.state.player;\n    },\n    otherPlayers() {\n      return this.$store.state.world.otherPlayers;\n    },\n    npcs() {\n      return this.$store.state.world.npcs;\n    },\n    worldItems() {\n      return this.$store.state.world.worldItems;\n    }\n  },\n  mounted() {\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext('2d');\n    this.resize();\n    window.addEventListener('resize', this.resize);\n\n    // Import map from constants\n    import(/* webpackChunkName: \"constants\" */'../../server/shared/constants.js').catch(() => {\n      // Fallback: generate a simple map\n      this.worldMap = this.generateFallbackMap();\n    }).then(mod => {\n      if (mod) this.worldMap = mod.WORLD_MAP;\n      this.startLoop();\n    });\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.resize);\n    if (this.animFrame) cancelAnimationFrame(this.animFrame);\n  },\n  methods: {\n    resize() {\n      const container = this.$el.parentElement;\n      this.canvas.width = container.clientWidth;\n      this.canvas.height = container.clientHeight;\n    },\n    generateFallbackMap() {\n      // 40x32 grass map with paths and water\n      const cols = 40,\n        rows = 32;\n      const map = [];\n      for (let r = 0; r < rows; r++) {\n        const row = [];\n        for (let c = 0; c < cols; c++) {\n          if (r === 0 || r === rows - 1 || c === 0 || c === cols - 1) row.push(2);else if (r === 6 || r === 12 || r === 20) row.push(4);else if (c === 19) row.push(4);else if (c < 4 && r > 12 && r < 22) row.push(1);else row.push(0);\n        }\n        map.push(row);\n      }\n      return map;\n    },\n    startLoop() {\n      const loop = timestamp => {\n        const delta = timestamp - this.lastFrame;\n        this.lastFrame = timestamp;\n        this.animTick = timestamp;\n        this.update(delta);\n        this.render();\n        this.animFrame = requestAnimationFrame(loop);\n      };\n      this.animFrame = requestAnimationFrame(loop);\n    },\n    update() {\n      // Update camera to follow player\n      if (!this.player || !this.canvas) return;\n      const targetCamX = this.player.x - this.canvas.width / 2;\n      const targetCamY = this.player.y - this.canvas.height / 2;\n\n      // Smooth camera\n      const lerp = 0.12;\n      this.cameraX += (targetCamX - this.cameraX) * lerp;\n      this.cameraY += (targetCamY - this.cameraY) * lerp;\n\n      // Clamp camera\n      if (this.worldMap) {\n        const mapW = this.worldMap[0].length * TILE_SIZE;\n        const mapH = this.worldMap.length * TILE_SIZE;\n        this.cameraX = Math.max(0, Math.min(this.cameraX, mapW - this.canvas.width));\n        this.cameraY = Math.max(0, Math.min(this.cameraY, mapH - this.canvas.height));\n      }\n    },\n    render() {\n      if (!this.ctx || !this.canvas) return;\n      const ctx = this.ctx;\n      const w = this.canvas.width;\n      const h = this.canvas.height;\n      ctx.clearRect(0, 0, w, h);\n      ctx.save();\n      ctx.translate(-Math.floor(this.cameraX), -Math.floor(this.cameraY));\n      this.renderMap(ctx);\n      this.renderWorldItems(ctx);\n      this.renderNPCs(ctx);\n      this.renderOtherPlayers(ctx);\n      this.renderPlayer(ctx);\n      this.renderHoverHighlight(ctx);\n      ctx.restore();\n    },\n    renderMap(ctx) {\n      if (!this.worldMap) return;\n      const startCol = Math.max(0, Math.floor(this.cameraX / TILE_SIZE) - 1);\n      const startRow = Math.max(0, Math.floor(this.cameraY / TILE_SIZE) - 1);\n      const endCol = Math.min(this.worldMap[0].length, startCol + Math.ceil(this.canvas.width / TILE_SIZE) + 2);\n      const endRow = Math.min(this.worldMap.length, startRow + Math.ceil(this.canvas.height / TILE_SIZE) + 2);\n      for (let row = startRow; row < endRow; row++) {\n        for (let col = startCol; col < endCol; col++) {\n          const tile = this.worldMap[row][col];\n          const px = col * TILE_SIZE;\n          const py = row * TILE_SIZE;\n\n          // Base tile color\n          ctx.fillStyle = TILE_COLORS[tile] || '#444';\n          ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n\n          // Tile details/decorations\n          this.renderTileDetail(ctx, tile, px, py, col, row);\n        }\n      }\n    },\n    renderTileDetail(ctx, tile, px, py, col, row) {\n      const t = this.animTick;\n      switch (tile) {\n        case 0:\n          // Grass - subtle variation\n          if ((col + row) % 3 === 0) {\n            ctx.fillStyle = 'rgba(0,0,0,0.06)';\n            ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n          }\n          break;\n        case 1:\n          // Water - animated\n          ctx.fillStyle = `rgba(100,160,255,${0.2 + Math.sin(t / 800 + col * 0.5 + row * 0.3) * 0.1})`;\n          ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n          // Ripple\n          ctx.strokeStyle = `rgba(200,230,255,${0.2 + Math.sin(t / 1000 + col + row) * 0.1})`;\n          ctx.lineWidth = 1;\n          ctx.beginPath();\n          ctx.moveTo(px + 4, py + 16 + Math.sin(t / 500 + col) * 2);\n          ctx.lineTo(px + 28, py + 16 + Math.sin(t / 500 + col + 1) * 2);\n          ctx.stroke();\n          break;\n        case 2:\n          // Mountain - rocky texture\n          ctx.fillStyle = '#555555';\n          ctx.fillRect(px + 6, py + 8, 20, 16);\n          ctx.fillStyle = '#888888';\n          ctx.fillRect(px + 10, py + 4, 12, 10);\n          ctx.fillStyle = '#aaaaaa';\n          ctx.fillRect(px + 13, py, 6, 6);\n          break;\n        case 3:\n          // Tree\n          // Trunk\n          ctx.fillStyle = '#5a3a1a';\n          ctx.fillRect(px + 13, py + 20, 6, 10);\n          // Canopy\n          ctx.fillStyle = '#1a5c1a';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 14, 12, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.fillStyle = '#2a7a2a';\n          ctx.beginPath();\n          ctx.arc(px + 14, py + 12, 8, 0, Math.PI * 2);\n          ctx.fill();\n          break;\n        case 4:\n          // Path - cobblestone\n          ctx.strokeStyle = 'rgba(0,0,0,0.15)';\n          ctx.lineWidth = 0.5;\n          for (let i = 0; i < 3; i++) {\n            for (let j = 0; j < 3; j++) {\n              ctx.strokeRect(px + 2 + i * 10, py + 2 + j * 10, 8, 8);\n            }\n          }\n          break;\n        case 5:\n          // Wall - brick\n          ctx.fillStyle = '#8a6a48';\n          ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n          ctx.fillStyle = 'rgba(0,0,0,0.2)';\n          for (let i = 0; i < 3; i++) {\n            ctx.fillRect(px, py + i * 10 + 1, TILE_SIZE, 2);\n          }\n          break;\n        case 6:\n          // Mine - dark entrance\n          ctx.fillStyle = '#222222';\n          ctx.fillRect(px + 6, py + 10, 20, 18);\n          // Mine entrance arch\n          ctx.fillStyle = '#1a1a1a';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 18, 10, Math.PI, 0);\n          ctx.fill();\n          // Pickaxe icon\n          ctx.fillStyle = '#888';\n          ctx.font = '14px serif';\n          ctx.fillText('â›', px + 9, py + 22);\n          break;\n        case 7:\n          // Bank - golden building\n          ctx.fillStyle = '#c8a228';\n          ctx.fillRect(px + 2, py + 6, 28, 22);\n          ctx.fillStyle = '#f5d44a';\n          ctx.fillRect(px + 6, py + 2, 20, 6);\n          // Columns\n          ctx.fillStyle = '#a88822';\n          ctx.fillRect(px + 6, py + 8, 3, 18);\n          ctx.fillRect(px + 23, py + 8, 3, 18);\n          // Door\n          ctx.fillStyle = '#5a3a1a';\n          ctx.fillRect(px + 12, py + 18, 8, 10);\n          break;\n        case 8:\n          // Shop - wooden building\n          ctx.fillStyle = '#8a5a30';\n          ctx.fillRect(px + 2, py + 8, 28, 20);\n          // Roof\n          ctx.fillStyle = '#c8701a';\n          ctx.beginPath();\n          ctx.moveTo(px, py + 10);\n          ctx.lineTo(px + 16, py);\n          ctx.lineTo(px + 32, py + 10);\n          ctx.fill();\n          // Window\n          ctx.fillStyle = '#88ccdd';\n          ctx.fillRect(px + 6, py + 12, 8, 8);\n          // Door\n          ctx.fillStyle = '#3a2010';\n          ctx.fillRect(px + 18, py + 18, 8, 10);\n          break;\n        case 10:\n          // Flower\n          ctx.fillStyle = '#ff8800';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 16, 4, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.fillStyle = '#ffdd00';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 16, 2, 0, Math.PI * 2);\n          ctx.fill();\n          break;\n      }\n\n      // Tile grid (subtle)\n      ctx.strokeStyle = 'rgba(0,0,0,0.05)';\n      ctx.lineWidth = 0.5;\n      ctx.strokeRect(px, py, TILE_SIZE, TILE_SIZE);\n    },\n    renderWorldItems(ctx) {\n      const t = this.animTick;\n      this.worldItems.forEach(item => {\n        const px = item.col * TILE_SIZE;\n        const py = item.row * TILE_SIZE;\n        const bobY = Math.sin(t / 600 + item.col * 0.7) * 2;\n\n        // Glow\n        ctx.shadowColor = item.color || '#ffffff';\n        ctx.shadowBlur = 8;\n        ctx.fillStyle = item.color || '#ffcc00';\n        ctx.beginPath();\n        ctx.arc(px + TILE_SIZE / 2, py + TILE_SIZE / 2 + bobY, 5, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.shadowBlur = 0;\n\n        // Emoji\n        ctx.font = '14px serif';\n        ctx.textAlign = 'center';\n        ctx.fillText(item.emoji || 'ðŸ“¦', px + 16, py + 20 + bobY);\n      });\n      ctx.textAlign = 'left';\n    },\n    renderNPCs(ctx) {\n      const t = this.animTick;\n      this.npcs.forEach(npc => {\n        const bobY = npc.moving ? Math.sin(t / 200) * 2 : 0;\n\n        // Shadow\n        ctx.fillStyle = 'rgba(0,0,0,0.3)';\n        ctx.beginPath();\n        ctx.ellipse(npc.x, npc.y + 14, 12, 5, 0, 0, Math.PI * 2);\n        ctx.fill();\n\n        // NPC body\n        ctx.fillStyle = npc.color || '#4488cc';\n        ctx.beginPath();\n        ctx.arc(npc.x, npc.y - 2 + bobY, 14, 0, Math.PI * 2);\n        ctx.fill();\n\n        // NPC emoji\n        ctx.font = '18px serif';\n        ctx.textAlign = 'center';\n        ctx.fillText(npc.emoji || 'ðŸ‘¤', npc.x, npc.y + 7 + bobY);\n\n        // Name tag\n        ctx.font = 'bold 10px Inter, sans-serif';\n        ctx.textAlign = 'center';\n        const nameWidth = ctx.measureText(npc.name).width + 8;\n        ctx.fillStyle = 'rgba(0,0,0,0.6)';\n        ctx.fillRect(npc.x - nameWidth / 2, npc.y - 28 + bobY, nameWidth, 14);\n        ctx.fillStyle = '#ffffff';\n        ctx.fillText(npc.name, npc.x, npc.y - 17 + bobY);\n\n        // Type indicator\n        let typeIcon = '';\n        if (npc.type === 'shop') typeIcon = 'ðŸ›’';else if (npc.type === 'bank') typeIcon = 'ðŸ¦';\n        if (typeIcon) {\n          ctx.font = '10px serif';\n          ctx.fillText(typeIcon, npc.x + 14, npc.y - 14 + bobY);\n        }\n      });\n      ctx.textAlign = 'left';\n    },\n    renderOtherPlayers(ctx) {\n      const t = this.animTick;\n      this.otherPlayers.forEach(p => {\n        this.renderCharacter(ctx, p, false, t);\n      });\n    },\n    renderPlayer(ctx) {\n      const p = this.player;\n      if (!p || !p.x) return;\n      this.renderCharacter(ctx, p, true, this.animTick);\n    },\n    renderCharacter(ctx, p, isMe, t) {\n      const px = p.x;\n      const py = p.y;\n\n      // Shadow\n      ctx.fillStyle = 'rgba(0,0,0,0.25)';\n      ctx.beginPath();\n      ctx.ellipse(px, py + 14, 12, 4, 0, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Body (legs animation)\n      if (p.moving) {\n        // Left leg\n        ctx.fillStyle = '#333';\n        ctx.fillRect(px - 6, py + 4, 5, 10 + Math.sin(t / 150) * 4);\n        // Right leg\n        ctx.fillRect(px + 1, py + 4, 5, 10 - Math.sin(t / 150) * 4);\n      } else {\n        ctx.fillStyle = '#333';\n        ctx.fillRect(px - 6, py + 4, 11, 10);\n      }\n\n      // Torso\n      ctx.fillStyle = isMe ? '#2266cc' : '#cc6622';\n      ctx.fillRect(px - 9, py - 8, 18, 14);\n\n      // Head\n      ctx.fillStyle = '#ffcc99';\n      ctx.beginPath();\n      ctx.arc(px, py - 14, 10, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Eyes based on direction\n      ctx.fillStyle = '#333';\n      if (p.direction === 'south' || !p.direction) {\n        ctx.beginPath();\n        ctx.arc(px - 3, py - 15, 2, 0, Math.PI * 2);\n        ctx.arc(px + 3, py - 15, 2, 0, Math.PI * 2);\n        ctx.fill();\n      } else if (p.direction === 'north') {\n        // Back of head, no eyes\n      } else if (p.direction === 'east') {\n        ctx.beginPath();\n        ctx.arc(px + 4, py - 14, 2, 0, Math.PI * 2);\n        ctx.fill();\n      } else if (p.direction === 'west') {\n        ctx.beginPath();\n        ctx.arc(px - 4, py - 14, 2, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // Player glow if \"me\"\n      if (isMe) {\n        const emotionColors = {\n          happy: 'rgba(255, 220, 0, 0.8)',\n          sad: 'rgba(0, 100, 255, 0.8)',\n          angry: 'rgba(255, 0, 0, 0.8)',\n          fear: 'rgba(150, 0, 255, 0.8)',\n          neutral: 'rgba(100, 180, 255, 0.8)'\n        };\n        const glowColor = emotionColors[p.emotion] || emotionColors.neutral;\n        ctx.shadowColor = glowColor;\n        ctx.shadowBlur = 12;\n        ctx.strokeStyle = glowColor;\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.arc(px, py - 14, 12, 0, Math.PI * 2);\n        ctx.stroke();\n        ctx.shadowBlur = 0;\n      }\n\n      // Name tag\n      ctx.font = 'bold 11px Inter, sans-serif';\n      ctx.textAlign = 'center';\n      const nameW = ctx.measureText(p.name).width + 10;\n      ctx.fillStyle = isMe ? 'rgba(20,60,120,0.8)' : 'rgba(0,0,0,0.7)';\n      ctx.fillRect(px - nameW / 2, py - 34, nameW, 16);\n      ctx.fillStyle = isMe ? '#88ccff' : '#ffffff';\n      ctx.fillText(p.name, px, py - 22);\n\n      // Health bar\n      if (p.health !== undefined && p.maxHealth > 0) {\n        const barW = 32;\n        const barH = 3;\n        const barX = px - barW / 2;\n        const barY = py - 38;\n        const pct = p.health / p.maxHealth;\n        ctx.fillStyle = 'rgba(0,0,0,0.5)';\n        ctx.fillRect(barX, barY, barW, barH);\n        ctx.fillStyle = pct > 0.5 ? '#44dd44' : pct > 0.25 ? '#dddd44' : '#dd4444';\n        ctx.fillRect(barX, barY, barW * pct, barH);\n      }\n      ctx.textAlign = 'left';\n    },\n    renderHoverHighlight(ctx) {\n      if (this.mouseCol < 0 || this.mouseRow < 0) return;\n      const px = this.mouseCol * TILE_SIZE;\n      const py = this.mouseRow * TILE_SIZE;\n      ctx.strokeStyle = 'rgba(255,255,100,0.5)';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(px + 1, py + 1, TILE_SIZE - 2, TILE_SIZE - 2);\n    },\n    // Convert screen coords to world tile\n    screenToTile(screenX, screenY) {\n      const worldX = screenX + this.cameraX;\n      const worldY = screenY + this.cameraY;\n      return {\n        col: Math.floor(worldX / TILE_SIZE),\n        row: Math.floor(worldY / TILE_SIZE)\n      };\n    },\n    handleClick(e) {\n      const rect = this.canvas.getBoundingClientRect();\n      const screenX = e.clientX - rect.left;\n      const screenY = e.clientY - rect.top;\n      const {\n        col,\n        row\n      } = this.screenToTile(screenX, screenY);\n\n      // Check if clicking on an NPC\n      const clickedNPC = this.getNearbyEntity(col, row, 'npc');\n      if (clickedNPC) {\n        wsService.interact(clickedNPC.id, 'npc');\n        return;\n      }\n\n      // Check if clicking on a world item\n      const clickedItem = this.getNearbyEntity(col, row, 'item');\n      if (clickedItem) {\n        wsService.interact(clickedItem.id, 'item');\n        return;\n      }\n\n      // Otherwise move to that tile\n      wsService.moveRequest(col, row);\n    },\n    handleRightClick(e) {\n      const rect = this.canvas.getBoundingClientRect();\n      const screenX = e.clientX - rect.left;\n      const screenY = e.clientY - rect.top;\n      const {\n        col,\n        row\n      } = this.screenToTile(screenX, screenY);\n\n      // Collect context options\n      const options = [];\n\n      // Check NPC\n      const npc = this.getNearbyEntity(col, row, 'npc');\n      if (npc) {\n        if (npc.type === 'shop') options.push({\n          label: `ðŸ›’ Trade with ${npc.name}`,\n          action: () => wsService.interact(npc.id, 'npc')\n        });else if (npc.type === 'bank') options.push({\n          label: `ðŸ¦ Bank with ${npc.name}`,\n          action: () => wsService.interact(npc.id, 'npc')\n        });else options.push({\n          label: `ðŸ’¬ Talk to ${npc.name}`,\n          action: () => wsService.interact(npc.id, 'npc')\n        });\n      }\n\n      // Check world item\n      const item = this.getNearbyEntity(col, row, 'item');\n      if (item) {\n        options.push({\n          label: `âœ‹ Pick up ${item.name}`,\n          action: () => wsService.interact(item.id, 'item')\n        });\n      }\n\n      // Check for resource zones\n      const zoneOption = this.getZoneOption(col, row);\n      if (zoneOption) options.push(zoneOption);\n\n      // Walk here\n      options.push({\n        label: `ðŸš¶ Walk here`,\n        action: () => wsService.moveRequest(col, row)\n      });\n\n      // Show context menu\n      if (options.length > 0) {\n        this.$root.$emit('show-context-menu', {\n          event: e,\n          type: npc ? 'npc' : item ? 'worldItem' : 'walk',\n          npc,\n          worldItem: item,\n          options,\n          col,\n          row\n        });\n      }\n    },\n    handleMouseMove(e) {\n      const rect = this.canvas.getBoundingClientRect();\n      const {\n        col,\n        row\n      } = this.screenToTile(e.clientX - rect.left, e.clientY - rect.top);\n      this.mouseCol = col;\n      this.mouseRow = row;\n    },\n    getNearbyEntity(col, row, type) {\n      const maxDist = 2;\n      if (type === 'npc') {\n        return this.npcs.find(n => Math.abs(n.col - col) <= maxDist && Math.abs(n.row - row) <= maxDist) || null;\n      }\n      if (type === 'item') {\n        return this.worldItems.find(i => Math.abs(i.col - col) <= maxDist && Math.abs(i.row - row) <= maxDist) || null;\n      }\n      return null;\n    },\n    getZoneOption(col, row) {\n      // Match to respawn zones\n      const zones = {\n        FOREST_1: {\n          col: 14,\n          row: 2,\n          radius: 2,\n          label: 'ðŸª“ Chop Wood'\n        },\n        FOREST_2: {\n          col: 26,\n          row: 3,\n          radius: 2,\n          label: 'ðŸª“ Chop Wood'\n        },\n        DIG_SITE: {\n          col: 7,\n          row: 8,\n          radius: 2,\n          label: 'â›ï¸ Dig for Gems'\n        },\n        IRON_MINE: {\n          col: 5,\n          row: 5,\n          radius: 3,\n          label: 'â›ï¸ Mine Iron Ore'\n        },\n        GOLD_MINE: {\n          col: 8,\n          row: 3,\n          radius: 2,\n          label: 'â›ï¸ Mine Gold Ore'\n        },\n        FISHING_SPOT: {\n          col: 2,\n          row: 18,\n          radius: 2,\n          label: 'ðŸŽ£ Fish here'\n        },\n        GRAVEYARD: {\n          col: 34,\n          row: 26,\n          radius: 3,\n          label: 'ðŸ¦´ Gather bones'\n        },\n        SHEEP_FLOCK: {\n          col: 22,\n          row: 8,\n          radius: 3,\n          label: 'âš”ï¸ Attack Sheep'\n        },\n        CREEPER_NEST: {\n          col: 10,\n          row: 20,\n          radius: 2,\n          label: 'ðŸ’¥ Kill Creeper'\n        }\n      };\n      for (const [key, zone] of Object.entries(zones)) {\n        if (Math.abs(col - zone.col) <= zone.radius && Math.abs(row - zone.row) <= zone.radius) {\n          return {\n            label: zone.label,\n            action: () => wsService.gather(null, key)\n          };\n        }\n      }\n      return null;\n    }\n  }\n};",{"version":3,"names":["wsService","TILE_SIZE","TILE_COLORS","name","data","canvas","ctx","animFrame","cameraX","cameraY","mouseCol","mouseRow","animTick","lastFrame","worldMap","hoverEntity","computed","player","$store","state","otherPlayers","world","npcs","worldItems","mounted","$refs","getContext","resize","window","addEventListener","catch","generateFallbackMap","then","mod","WORLD_MAP","startLoop","beforeDestroy","removeEventListener","cancelAnimationFrame","methods","container","$el","parentElement","width","clientWidth","height","clientHeight","cols","rows","map","r","row","c","push","loop","timestamp","delta","update","render","requestAnimationFrame","targetCamX","x","targetCamY","y","lerp","mapW","length","mapH","Math","max","min","w","h","clearRect","save","translate","floor","renderMap","renderWorldItems","renderNPCs","renderOtherPlayers","renderPlayer","renderHoverHighlight","restore","startCol","startRow","endCol","ceil","endRow","col","tile","px","py","fillStyle","fillRect","renderTileDetail","t","sin","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","arc","PI","fill","i","j","strokeRect","font","fillText","forEach","item","bobY","shadowColor","color","shadowBlur","textAlign","emoji","npc","moving","ellipse","nameWidth","measureText","typeIcon","type","p","renderCharacter","isMe","direction","emotionColors","happy","sad","angry","fear","neutral","glowColor","emotion","nameW","health","undefined","maxHealth","barW","barH","barX","barY","pct","screenToTile","screenX","screenY","worldX","worldY","handleClick","e","rect","getBoundingClientRect","clientX","left","clientY","top","clickedNPC","getNearbyEntity","interact","id","clickedItem","moveRequest","handleRightClick","options","label","action","zoneOption","getZoneOption","$root","$emit","event","worldItem","handleMouseMove","maxDist","find","n","abs","zones","FOREST_1","radius","FOREST_2","DIG_SITE","IRON_MINE","GOLD_MINE","FISHING_SPOT","GRAVEYARD","SHEEP_FLOCK","CREEPER_NEST","key","zone","Object","entries","gather"],"sources":["src/components/GameCanvas.vue"],"sourcesContent":["<template>\n  <canvas\n    ref=\"canvas\"\n    id=\"game-canvas\"\n    @click=\"handleClick\"\n    @contextmenu.prevent=\"handleRightClick\"\n    @mousemove=\"handleMouseMove\"\n  ></canvas>\n</template>\n\n<script>\nimport wsService from '../services/websocket';\n\nconst TILE_SIZE = 32;\nconst TILE_COLORS = {\n  0: '#4a7c3f',   // grass\n  1: '#2b5eab',   // water\n  2: '#6e6e6e',   // mountain\n  3: '#2d5a1b',   // tree\n  4: '#8b7355',   // path\n  5: '#a08060',   // wall\n  6: '#444444',   // mine\n  7: '#c8a228',   // bank\n  8: '#8a5a2a',   // shop\n  9: '#c8b87a',   // sand\n  10: '#5a8f3a',  // flower\n};\n\n\nexport default {\n  name: 'GameCanvas',\n  data() {\n    return {\n      canvas: null,\n      ctx: null,\n      animFrame: null,\n      cameraX: 0,\n      cameraY: 0,\n      mouseCol: -1,\n      mouseRow: -1,\n      animTick: 0,\n      lastFrame: 0,\n      // Pre-compute map for rendering\n      worldMap: null,\n      hoverEntity: null,\n    };\n  },\n  computed: {\n    player() {\n      return this.$store.state.player;\n    },\n    otherPlayers() {\n      return this.$store.state.world.otherPlayers;\n    },\n    npcs() {\n      return this.$store.state.world.npcs;\n    },\n    worldItems() {\n      return this.$store.state.world.worldItems;\n    },\n  },\n  mounted() {\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext('2d');\n    this.resize();\n    window.addEventListener('resize', this.resize);\n\n    // Import map from constants\n    import(/* webpackChunkName: \"constants\" */ '../../server/shared/constants.js')\n      .catch(() => {\n        // Fallback: generate a simple map\n        this.worldMap = this.generateFallbackMap();\n      })\n      .then((mod) => {\n        if (mod) this.worldMap = mod.WORLD_MAP;\n        this.startLoop();\n      });\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.resize);\n    if (this.animFrame) cancelAnimationFrame(this.animFrame);\n  },\n  methods: {\n    resize() {\n      const container = this.$el.parentElement;\n      this.canvas.width = container.clientWidth;\n      this.canvas.height = container.clientHeight;\n    },\n\n    generateFallbackMap() {\n      // 40x32 grass map with paths and water\n      const cols = 40, rows = 32;\n      const map = [];\n      for (let r = 0; r < rows; r++) {\n        const row = [];\n        for (let c = 0; c < cols; c++) {\n          if (r === 0 || r === rows - 1 || c === 0 || c === cols - 1) row.push(2);\n          else if (r === 6 || r === 12 || r === 20) row.push(4);\n          else if (c === 19) row.push(4);\n          else if (c < 4 && r > 12 && r < 22) row.push(1);\n          else row.push(0);\n        }\n        map.push(row);\n      }\n      return map;\n    },\n\n    startLoop() {\n      const loop = (timestamp) => {\n        const delta = timestamp - this.lastFrame;\n        this.lastFrame = timestamp;\n        this.animTick = timestamp;\n        this.update(delta);\n        this.render();\n        this.animFrame = requestAnimationFrame(loop);\n      };\n      this.animFrame = requestAnimationFrame(loop);\n    },\n\n    update() {\n      // Update camera to follow player\n      if (!this.player || !this.canvas) return;\n\n      const targetCamX = this.player.x - this.canvas.width / 2;\n      const targetCamY = this.player.y - this.canvas.height / 2;\n\n      // Smooth camera\n      const lerp = 0.12;\n      this.cameraX += (targetCamX - this.cameraX) * lerp;\n      this.cameraY += (targetCamY - this.cameraY) * lerp;\n\n      // Clamp camera\n      if (this.worldMap) {\n        const mapW = this.worldMap[0].length * TILE_SIZE;\n        const mapH = this.worldMap.length * TILE_SIZE;\n        this.cameraX = Math.max(0, Math.min(this.cameraX, mapW - this.canvas.width));\n        this.cameraY = Math.max(0, Math.min(this.cameraY, mapH - this.canvas.height));\n      }\n    },\n\n    render() {\n      if (!this.ctx || !this.canvas) return;\n      const ctx = this.ctx;\n      const w = this.canvas.width;\n      const h = this.canvas.height;\n\n      ctx.clearRect(0, 0, w, h);\n      ctx.save();\n      ctx.translate(-Math.floor(this.cameraX), -Math.floor(this.cameraY));\n\n      this.renderMap(ctx);\n      this.renderWorldItems(ctx);\n      this.renderNPCs(ctx);\n      this.renderOtherPlayers(ctx);\n      this.renderPlayer(ctx);\n      this.renderHoverHighlight(ctx);\n\n      ctx.restore();\n    },\n\n    renderMap(ctx) {\n      if (!this.worldMap) return;\n\n      const startCol = Math.max(0, Math.floor(this.cameraX / TILE_SIZE) - 1);\n      const startRow = Math.max(0, Math.floor(this.cameraY / TILE_SIZE) - 1);\n      const endCol = Math.min(this.worldMap[0].length, startCol + Math.ceil(this.canvas.width / TILE_SIZE) + 2);\n      const endRow = Math.min(this.worldMap.length, startRow + Math.ceil(this.canvas.height / TILE_SIZE) + 2);\n\n      for (let row = startRow; row < endRow; row++) {\n        for (let col = startCol; col < endCol; col++) {\n          const tile = this.worldMap[row][col];\n          const px = col * TILE_SIZE;\n          const py = row * TILE_SIZE;\n\n          // Base tile color\n          ctx.fillStyle = TILE_COLORS[tile] || '#444';\n          ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n\n          // Tile details/decorations\n          this.renderTileDetail(ctx, tile, px, py, col, row);\n        }\n      }\n    },\n\n    renderTileDetail(ctx, tile, px, py, col, row) {\n      const t = this.animTick;\n\n      switch(tile) {\n        case 0: // Grass - subtle variation\n          if ((col + row) % 3 === 0) {\n            ctx.fillStyle = 'rgba(0,0,0,0.06)';\n            ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n          }\n          break;\n\n        case 1: // Water - animated\n          ctx.fillStyle = `rgba(100,160,255,${0.2 + Math.sin(t / 800 + col * 0.5 + row * 0.3) * 0.1})`;\n          ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n          // Ripple\n          ctx.strokeStyle = `rgba(200,230,255,${0.2 + Math.sin(t / 1000 + col + row) * 0.1})`;\n          ctx.lineWidth = 1;\n          ctx.beginPath();\n          ctx.moveTo(px + 4, py + 16 + Math.sin(t / 500 + col) * 2);\n          ctx.lineTo(px + 28, py + 16 + Math.sin(t / 500 + col + 1) * 2);\n          ctx.stroke();\n          break;\n\n        case 2: // Mountain - rocky texture\n          ctx.fillStyle = '#555555';\n          ctx.fillRect(px + 6, py + 8, 20, 16);\n          ctx.fillStyle = '#888888';\n          ctx.fillRect(px + 10, py + 4, 12, 10);\n          ctx.fillStyle = '#aaaaaa';\n          ctx.fillRect(px + 13, py, 6, 6);\n          break;\n\n        case 3: // Tree\n          // Trunk\n          ctx.fillStyle = '#5a3a1a';\n          ctx.fillRect(px + 13, py + 20, 6, 10);\n          // Canopy\n          ctx.fillStyle = '#1a5c1a';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 14, 12, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.fillStyle = '#2a7a2a';\n          ctx.beginPath();\n          ctx.arc(px + 14, py + 12, 8, 0, Math.PI * 2);\n          ctx.fill();\n          break;\n\n        case 4: // Path - cobblestone\n          ctx.strokeStyle = 'rgba(0,0,0,0.15)';\n          ctx.lineWidth = 0.5;\n          for (let i = 0; i < 3; i++) {\n            for (let j = 0; j < 3; j++) {\n              ctx.strokeRect(px + 2 + i * 10, py + 2 + j * 10, 8, 8);\n            }\n          }\n          break;\n\n        case 5: // Wall - brick\n          ctx.fillStyle = '#8a6a48';\n          ctx.fillRect(px, py, TILE_SIZE, TILE_SIZE);\n          ctx.fillStyle = 'rgba(0,0,0,0.2)';\n          for (let i = 0; i < 3; i++) {\n            ctx.fillRect(px, py + i * 10 + 1, TILE_SIZE, 2);\n          }\n          break;\n\n        case 6: // Mine - dark entrance\n          ctx.fillStyle = '#222222';\n          ctx.fillRect(px + 6, py + 10, 20, 18);\n          // Mine entrance arch\n          ctx.fillStyle = '#1a1a1a';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 18, 10, Math.PI, 0);\n          ctx.fill();\n          // Pickaxe icon\n          ctx.fillStyle = '#888';\n          ctx.font = '14px serif';\n          ctx.fillText('â›', px + 9, py + 22);\n          break;\n\n        case 7: // Bank - golden building\n          ctx.fillStyle = '#c8a228';\n          ctx.fillRect(px + 2, py + 6, 28, 22);\n          ctx.fillStyle = '#f5d44a';\n          ctx.fillRect(px + 6, py + 2, 20, 6);\n          // Columns\n          ctx.fillStyle = '#a88822';\n          ctx.fillRect(px + 6, py + 8, 3, 18);\n          ctx.fillRect(px + 23, py + 8, 3, 18);\n          // Door\n          ctx.fillStyle = '#5a3a1a';\n          ctx.fillRect(px + 12, py + 18, 8, 10);\n          break;\n\n        case 8: // Shop - wooden building\n          ctx.fillStyle = '#8a5a30';\n          ctx.fillRect(px + 2, py + 8, 28, 20);\n          // Roof\n          ctx.fillStyle = '#c8701a';\n          ctx.beginPath();\n          ctx.moveTo(px, py + 10);\n          ctx.lineTo(px + 16, py);\n          ctx.lineTo(px + 32, py + 10);\n          ctx.fill();\n          // Window\n          ctx.fillStyle = '#88ccdd';\n          ctx.fillRect(px + 6, py + 12, 8, 8);\n          // Door\n          ctx.fillStyle = '#3a2010';\n          ctx.fillRect(px + 18, py + 18, 8, 10);\n          break;\n\n        case 10: // Flower\n          ctx.fillStyle = '#ff8800';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 16, 4, 0, Math.PI * 2);\n          ctx.fill();\n          ctx.fillStyle = '#ffdd00';\n          ctx.beginPath();\n          ctx.arc(px + 16, py + 16, 2, 0, Math.PI * 2);\n          ctx.fill();\n          break;\n      }\n\n      // Tile grid (subtle)\n      ctx.strokeStyle = 'rgba(0,0,0,0.05)';\n      ctx.lineWidth = 0.5;\n      ctx.strokeRect(px, py, TILE_SIZE, TILE_SIZE);\n    },\n\n    renderWorldItems(ctx) {\n      const t = this.animTick;\n      this.worldItems.forEach(item => {\n        const px = item.col * TILE_SIZE;\n        const py = item.row * TILE_SIZE;\n        const bobY = Math.sin(t / 600 + item.col * 0.7) * 2;\n\n        // Glow\n        ctx.shadowColor = item.color || '#ffffff';\n        ctx.shadowBlur = 8;\n        ctx.fillStyle = item.color || '#ffcc00';\n        ctx.beginPath();\n        ctx.arc(px + TILE_SIZE / 2, py + TILE_SIZE / 2 + bobY, 5, 0, Math.PI * 2);\n        ctx.fill();\n        ctx.shadowBlur = 0;\n\n        // Emoji\n        ctx.font = '14px serif';\n        ctx.textAlign = 'center';\n        ctx.fillText(item.emoji || 'ðŸ“¦', px + 16, py + 20 + bobY);\n      });\n      ctx.textAlign = 'left';\n    },\n\n    renderNPCs(ctx) {\n      const t = this.animTick;\n      this.npcs.forEach(npc => {\n        const bobY = npc.moving ? Math.sin(t / 200) * 2 : 0;\n\n        // Shadow\n        ctx.fillStyle = 'rgba(0,0,0,0.3)';\n        ctx.beginPath();\n        ctx.ellipse(npc.x, npc.y + 14, 12, 5, 0, 0, Math.PI * 2);\n        ctx.fill();\n\n        // NPC body\n        ctx.fillStyle = npc.color || '#4488cc';\n        ctx.beginPath();\n        ctx.arc(npc.x, npc.y - 2 + bobY, 14, 0, Math.PI * 2);\n        ctx.fill();\n\n        // NPC emoji\n        ctx.font = '18px serif';\n        ctx.textAlign = 'center';\n        ctx.fillText(npc.emoji || 'ðŸ‘¤', npc.x, npc.y + 7 + bobY);\n\n        // Name tag\n        ctx.font = 'bold 10px Inter, sans-serif';\n        ctx.textAlign = 'center';\n        const nameWidth = ctx.measureText(npc.name).width + 8;\n        ctx.fillStyle = 'rgba(0,0,0,0.6)';\n        ctx.fillRect(npc.x - nameWidth / 2, npc.y - 28 + bobY, nameWidth, 14);\n        ctx.fillStyle = '#ffffff';\n        ctx.fillText(npc.name, npc.x, npc.y - 17 + bobY);\n\n        // Type indicator\n        let typeIcon = '';\n        if (npc.type === 'shop') typeIcon = 'ðŸ›’';\n        else if (npc.type === 'bank') typeIcon = 'ðŸ¦';\n        if (typeIcon) {\n          ctx.font = '10px serif';\n          ctx.fillText(typeIcon, npc.x + 14, npc.y - 14 + bobY);\n        }\n      });\n      ctx.textAlign = 'left';\n    },\n\n    renderOtherPlayers(ctx) {\n      const t = this.animTick;\n      this.otherPlayers.forEach(p => {\n        this.renderCharacter(ctx, p, false, t);\n      });\n    },\n\n    renderPlayer(ctx) {\n      const p = this.player;\n      if (!p || !p.x) return;\n      this.renderCharacter(ctx, p, true, this.animTick);\n    },\n\n    renderCharacter(ctx, p, isMe, t) {\n      const px = p.x;\n      const py = p.y;\n\n      // Shadow\n      ctx.fillStyle = 'rgba(0,0,0,0.25)';\n      ctx.beginPath();\n      ctx.ellipse(px, py + 14, 12, 4, 0, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Body (legs animation)\n      if (p.moving) {\n        // Left leg\n        ctx.fillStyle = '#333';\n        ctx.fillRect(px - 6, py + 4, 5, 10 + Math.sin(t / 150) * 4);\n        // Right leg\n        ctx.fillRect(px + 1, py + 4, 5, 10 - Math.sin(t / 150) * 4);\n      } else {\n        ctx.fillStyle = '#333';\n        ctx.fillRect(px - 6, py + 4, 11, 10);\n      }\n\n      // Torso\n      ctx.fillStyle = isMe ? '#2266cc' : '#cc6622';\n      ctx.fillRect(px - 9, py - 8, 18, 14);\n\n      // Head\n      ctx.fillStyle = '#ffcc99';\n      ctx.beginPath();\n      ctx.arc(px, py - 14, 10, 0, Math.PI * 2);\n      ctx.fill();\n\n      // Eyes based on direction\n      ctx.fillStyle = '#333';\n      if (p.direction === 'south' || !p.direction) {\n        ctx.beginPath();\n        ctx.arc(px - 3, py - 15, 2, 0, Math.PI * 2);\n        ctx.arc(px + 3, py - 15, 2, 0, Math.PI * 2);\n        ctx.fill();\n      } else if (p.direction === 'north') {\n        // Back of head, no eyes\n      } else if (p.direction === 'east') {\n        ctx.beginPath();\n        ctx.arc(px + 4, py - 14, 2, 0, Math.PI * 2);\n        ctx.fill();\n      } else if (p.direction === 'west') {\n        ctx.beginPath();\n        ctx.arc(px - 4, py - 14, 2, 0, Math.PI * 2);\n        ctx.fill();\n      }\n\n      // Player glow if \"me\"\n      if (isMe) {\n        const emotionColors = {\n          happy: 'rgba(255, 220, 0, 0.8)',\n          sad: 'rgba(0, 100, 255, 0.8)',\n          angry: 'rgba(255, 0, 0, 0.8)',\n          fear: 'rgba(150, 0, 255, 0.8)',\n          neutral: 'rgba(100, 180, 255, 0.8)',\n        };\n        const glowColor = emotionColors[p.emotion] || emotionColors.neutral;\n        \n        ctx.shadowColor = glowColor;\n        ctx.shadowBlur = 12;\n        ctx.strokeStyle = glowColor;\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.arc(px, py - 14, 12, 0, Math.PI * 2);\n        ctx.stroke();\n        ctx.shadowBlur = 0;\n      }\n\n      // Name tag\n      ctx.font = 'bold 11px Inter, sans-serif';\n      ctx.textAlign = 'center';\n      const nameW = ctx.measureText(p.name).width + 10;\n\n      ctx.fillStyle = isMe ? 'rgba(20,60,120,0.8)' : 'rgba(0,0,0,0.7)';\n      ctx.fillRect(px - nameW / 2, py - 34, nameW, 16);\n\n      ctx.fillStyle = isMe ? '#88ccff' : '#ffffff';\n      ctx.fillText(p.name, px, py - 22);\n\n      // Health bar\n      if (p.health !== undefined && p.maxHealth > 0) {\n        const barW = 32;\n        const barH = 3;\n        const barX = px - barW / 2;\n        const barY = py - 38;\n        const pct = p.health / p.maxHealth;\n\n        ctx.fillStyle = 'rgba(0,0,0,0.5)';\n        ctx.fillRect(barX, barY, barW, barH);\n        ctx.fillStyle = pct > 0.5 ? '#44dd44' : pct > 0.25 ? '#dddd44' : '#dd4444';\n        ctx.fillRect(barX, barY, barW * pct, barH);\n      }\n\n      ctx.textAlign = 'left';\n    },\n\n    renderHoverHighlight(ctx) {\n      if (this.mouseCol < 0 || this.mouseRow < 0) return;\n      const px = this.mouseCol * TILE_SIZE;\n      const py = this.mouseRow * TILE_SIZE;\n      ctx.strokeStyle = 'rgba(255,255,100,0.5)';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(px + 1, py + 1, TILE_SIZE - 2, TILE_SIZE - 2);\n    },\n\n    // Convert screen coords to world tile\n    screenToTile(screenX, screenY) {\n      const worldX = screenX + this.cameraX;\n      const worldY = screenY + this.cameraY;\n      return {\n        col: Math.floor(worldX / TILE_SIZE),\n        row: Math.floor(worldY / TILE_SIZE),\n      };\n    },\n\n    handleClick(e) {\n      const rect = this.canvas.getBoundingClientRect();\n      const screenX = e.clientX - rect.left;\n      const screenY = e.clientY - rect.top;\n      const { col, row } = this.screenToTile(screenX, screenY);\n\n      // Check if clicking on an NPC\n      const clickedNPC = this.getNearbyEntity(col, row, 'npc');\n      if (clickedNPC) {\n        wsService.interact(clickedNPC.id, 'npc');\n        return;\n      }\n\n      // Check if clicking on a world item\n      const clickedItem = this.getNearbyEntity(col, row, 'item');\n      if (clickedItem) {\n        wsService.interact(clickedItem.id, 'item');\n        return;\n      }\n\n      // Otherwise move to that tile\n      wsService.moveRequest(col, row);\n    },\n\n    handleRightClick(e) {\n      const rect = this.canvas.getBoundingClientRect();\n      const screenX = e.clientX - rect.left;\n      const screenY = e.clientY - rect.top;\n      const { col, row } = this.screenToTile(screenX, screenY);\n\n      // Collect context options\n      const options = [];\n\n      // Check NPC\n      const npc = this.getNearbyEntity(col, row, 'npc');\n      if (npc) {\n        if (npc.type === 'shop') options.push({ label: `ðŸ›’ Trade with ${npc.name}`, action: () => wsService.interact(npc.id, 'npc') });\n        else if (npc.type === 'bank') options.push({ label: `ðŸ¦ Bank with ${npc.name}`, action: () => wsService.interact(npc.id, 'npc') });\n        else options.push({ label: `ðŸ’¬ Talk to ${npc.name}`, action: () => wsService.interact(npc.id, 'npc') });\n      }\n\n      // Check world item\n      const item = this.getNearbyEntity(col, row, 'item');\n      if (item) {\n        options.push({ label: `âœ‹ Pick up ${item.name}`, action: () => wsService.interact(item.id, 'item') });\n      }\n\n      // Check for resource zones\n      const zoneOption = this.getZoneOption(col, row);\n      if (zoneOption) options.push(zoneOption);\n\n      // Walk here\n      options.push({ label: `ðŸš¶ Walk here`, action: () => wsService.moveRequest(col, row) });\n\n      // Show context menu\n      if (options.length > 0) {\n        this.$root.$emit('show-context-menu', {\n          event: e,\n          type: npc ? 'npc' : (item ? 'worldItem' : 'walk'),\n          npc,\n          worldItem: item,\n          options,\n          col,\n          row\n        });\n      }\n    },\n\n    handleMouseMove(e) {\n      const rect = this.canvas.getBoundingClientRect();\n      const { col, row } = this.screenToTile(e.clientX - rect.left, e.clientY - rect.top);\n      this.mouseCol = col;\n      this.mouseRow = row;\n    },\n\n    getNearbyEntity(col, row, type) {\n      const maxDist = 2;\n      if (type === 'npc') {\n        return this.npcs.find(n => Math.abs(n.col - col) <= maxDist && Math.abs(n.row - row) <= maxDist) || null;\n      }\n      if (type === 'item') {\n        return this.worldItems.find(i => Math.abs(i.col - col) <= maxDist && Math.abs(i.row - row) <= maxDist) || null;\n      }\n      return null;\n    },\n\n    getZoneOption(col, row) {\n      // Match to respawn zones\n      const zones = {\n        FOREST_1: { col: 14, row: 2, radius: 2, label: 'ðŸª“ Chop Wood' },\n        FOREST_2: { col: 26, row: 3, radius: 2, label: 'ðŸª“ Chop Wood' },\n        DIG_SITE: { col: 7, row: 8, radius: 2, label: 'â›ï¸ Dig for Gems' },\n        IRON_MINE: { col: 5, row: 5, radius: 3, label: 'â›ï¸ Mine Iron Ore' },\n        GOLD_MINE: { col: 8, row: 3, radius: 2, label: 'â›ï¸ Mine Gold Ore' },\n        FISHING_SPOT: { col: 2, row: 18, radius: 2, label: 'ðŸŽ£ Fish here' },\n        GRAVEYARD: { col: 34, row: 26, radius: 3, label: 'ðŸ¦´ Gather bones' },\n        SHEEP_FLOCK: { col: 22, row: 8, radius: 3, label: 'âš”ï¸ Attack Sheep' },\n        CREEPER_NEST: { col: 10, row: 20, radius: 2, label: 'ðŸ’¥ Kill Creeper' },\n      };\n\n      for (const [key, zone] of Object.entries(zones)) {\n        if (Math.abs(col - zone.col) <= zone.radius && Math.abs(row - zone.row) <= zone.radius) {\n          return {\n            label: zone.label,\n            action: () => wsService.gather(null, key),\n          };\n        }\n      }\n      return null;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#game-canvas {\n  display: block;\n  width: 100%;\n  height: 100%;\n  cursor: crosshair;\n  image-rendering: pixelated;\n  image-rendering: crisp-edges;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}