{"remainingRequest":"/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js!/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/justin/Desktop/CICMS/src/components/ShopModal.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/justin/Desktop/CICMS/src/components/ShopModal.vue","mtime":1771872095196},{"path":"/home/justin/Desktop/CICMS/babel.config.js","mtime":1771823009049},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js","mtime":1771824228601},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js","mtime":1771824228358}],"contextDependencies":[],"result":["import { mapState } from 'vuex';\nimport wsService from '../services/websocket';\nexport default {\n  name: 'ShopModal',\n  data() {\n    return {\n      activeTab: 'buy'\n    };\n  },\n  computed: {\n    ...mapState('world', ['interactingWith']),\n    ...mapState('player', ['gold', 'inventory'])\n  },\n  methods: {\n    close() {\n      this.$store.dispatch('world/closeInteraction');\n    },\n    getEmoji(defKey) {\n      // In a real app we'd have an item def dictionary\n      const emojis = {\n        'IRON_ORE': 'ü™®',\n        'GOLD_ORE': '‚ú®',\n        'BREAD': 'üçû',\n        'SWORD': '‚öîÔ∏è',\n        'SHIELD': 'üõ°Ô∏è',\n        'AXE': 'ü™ì',\n        'PICKAXE': '‚õèÔ∏è'\n      };\n      return emojis[defKey] || 'üì¶';\n    },\n    buyItem(item) {\n      wsService.action('BUY_ITEM', {\n        targetId: this.interactingWith.id,\n        itemId: item.defKey,\n        quantity: 1\n      });\n    },\n    sellItem(item) {\n      wsService.action('SELL_ITEM', {\n        targetId: this.interactingWith.id,\n        itemId: item.id,\n        quantity: 1\n      });\n    }\n  }\n};",{"version":3,"names":["mapState","wsService","name","data","activeTab","computed","methods","close","$store","dispatch","getEmoji","defKey","emojis","buyItem","item","action","targetId","interactingWith","id","itemId","quantity","sellItem"],"sources":["src/components/ShopModal.vue"],"sourcesContent":["<template>\n  <div class=\"modal-overlay\" @click.self=\"close\">\n    <div class=\"modal-card shop-modal\">\n      <div class=\"npc-header\">\n        <div class=\"npc-avatar\"><span class=\"emoji\">üõí</span></div>\n        <div class=\"npc-info\">\n          <h3>{{ interactingWith.name }}'s Shop</h3>\n          <p class=\"npc-type\">Merchant</p>\n        </div>\n        <div class=\"player-gold\">ü™ô {{ gold.toLocaleString() }}g</div>\n        <button class=\"close-btn\" @click=\"close\">√ó</button>\n      </div>\n\n      <div class=\"shop-tabs\">\n        <button :class=\"{ active: activeTab === 'buy' }\" @click=\"activeTab = 'buy'\">Buy</button>\n        <button :class=\"{ active: activeTab === 'sell' }\" @click=\"activeTab = 'sell'\">Sell</button>\n      </div>\n\n      <div class=\"shop-content\">\n        <div class=\"shop-grid\" v-if=\"activeTab === 'buy'\">\n          <div v-for=\"item in interactingWith.shopItems\" :key=\"item.id\" class=\"shop-item\">\n            <div class=\"item-icon\">{{ getEmoji(item.defKey) }}</div>\n            <div class=\"item-details\">\n              <div class=\"item-name\">{{ item.name }}</div>\n              <div class=\"item-price\">{{ item.buyPrice || item.price }}g</div>\n            </div>\n            <button class=\"buy-btn\" @click=\"buyItem(item)\">Buy</button>\n          </div>\n        </div>\n\n        <div class=\"shop-grid\" v-if=\"activeTab === 'sell'\">\n          <div v-if=\"inventory.length === 0\" class=\"empty-state\">No items to sell.</div>\n          <div v-for=\"item in inventory\" :key=\"item.id\" class=\"shop-item\">\n            <div class=\"item-icon\">{{ item.emoji }}</div>\n            <div class=\"item-details\">\n              <div class=\"item-name\">{{ item.name }} <span v-if=\"item.quantity > 1\">x{{ item.quantity }}</span></div>\n              <div class=\"item-price\">{{ Math.floor(item.value * 0.5) }}g (Sell)</div>\n            </div>\n            <button class=\"buy-btn sell-btn\" @click=\"sellItem(item)\">Sell 1</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport wsService from '../services/websocket';\n\nexport default {\n  name: 'ShopModal',\n  data() {\n    return {\n      activeTab: 'buy',\n    };\n  },\n  computed: {\n    ...mapState('world', ['interactingWith']),\n    ...mapState('player', ['gold', 'inventory']),\n  },\n  methods: {\n    close() {\n      this.$store.dispatch('world/closeInteraction');\n    },\n    getEmoji(defKey) {\n      // In a real app we'd have an item def dictionary\n      const emojis = {\n        'IRON_ORE': 'ü™®',\n        'GOLD_ORE': '‚ú®',\n        'BREAD': 'üçû',\n        'SWORD': '‚öîÔ∏è',\n        'SHIELD': 'üõ°Ô∏è',\n        'AXE': 'ü™ì',\n        'PICKAXE': '‚õèÔ∏è',\n      };\n      return emojis[defKey] || 'üì¶';\n    },\n    buyItem(item) {\n      wsService.action('BUY_ITEM', {\n        targetId: this.interactingWith.id,\n        itemId: item.defKey,\n        quantity: 1\n      });\n    },\n    sellItem(item) {\n      wsService.action('SELL_ITEM', {\n        targetId: this.interactingWith.id,\n        itemId: item.id,\n        quantity: 1\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.7);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-card {\n  background: #1a1a2e;\n  border: 1px solid rgba(255, 200, 50, 0.3);\n  border-radius: 12px;\n  width: 500px;\n  max-height: 80vh;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);\n  display: flex;\n  flex-direction: column;\n}\n\n.npc-header {\n  padding: 16px;\n  background: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  border-bottom: 1px solid rgba(255, 200, 50, 0.1);\n  position: relative;\n}\n\n.npc-avatar {\n  width: 48px;\n  height: 48px;\n  background: rgba(255, 200, 50, 0.1);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n}\n\n.npc-info { flex: 1; }\n.npc-info h3 { margin: 0; color: #f5d44a; font-size: 18px; }\n.npc-type { margin: 0; color: rgba(255, 255, 255, 0.4); font-size: 10px; text-transform: uppercase; }\n\n.player-gold {\n  color: #f5d44a;\n  font-weight: 700;\n  font-size: 14px;\n  padding: 4px 12px;\n  background: rgba(0,0,0,0.3);\n  border-radius: 20px;\n  margin-right: 30px;\n}\n\n.close-btn {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  background: transparent;\n  border: none;\n  color: #fff;\n  font-size: 24px;\n  cursor: pointer;\n}\n\n.shop-content {\n  flex: 1;\n  padding: 16px;\n  overflow-y: auto;\n}\n\n.shop-grid {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.shop-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.03);\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.05);\n  transition: all 0.2s;\n}\n\n.shop-item:hover {\n  background: rgba(255, 255, 255, 0.06);\n  border-color: rgba(255, 200, 50, 0.2);\n}\n\n.item-icon { font-size: 28px; }\n\n.item-details { flex: 1; }\n.item-name { font-weight: 600; color: #fff; }\n.item-price { font-size: 13px; color: #f5d44a; }\n\n.buy-btn {\n  padding: 6px 16px;\n  background: rgba(245, 212, 74, 0.1);\n  border: 1px solid #f5d44a;\n  border-radius: 4px;\n  color: #f5d44a;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.buy-btn:hover {\n  background: #f5d44a;\n  color: #1a0a00;\n}\n\n.sell-btn {\n  background: rgba(245, 112, 74, 0.1);\n  border-color: #f55a4a;\n  color: #f55a4a;\n}\n\n.sell-btn:hover {\n  background: #f55a4a;\n  color: #1a0000;\n}\n\n.shop-tabs {\n  display: flex;\n  background: rgba(0, 0, 0, 0.4);\n  border-bottom: 1px solid rgba(255, 200, 50, 0.1);\n}\n\n.shop-tabs button {\n  flex: 1;\n  padding: 12px;\n  background: transparent;\n  border: none;\n  color: rgba(255, 255, 255, 0.5);\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.shop-tabs button:hover {\n  background: rgba(255, 200, 50, 0.05);\n  color: rgba(255, 255, 255, 0.8);\n}\n\n.shop-tabs button.active {\n  color: #f5d44a;\n  border-bottom: 2px solid #f5d44a;\n  background: rgba(255, 200, 50, 0.1);\n}\n\n.empty-state {\n  text-align: center;\n  padding: 30px;\n  color: rgba(255, 255, 255, 0.5);\n  font-style: italic;\n}\n</style>\n"],"mappings":"AA+CA,SAAAA,QAAA;AACA,OAAAC,SAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAL,QAAA;IACA,GAAAA,QAAA;EACA;EACAM,OAAA;IACAC,MAAA;MACA,KAAAC,MAAA,CAAAC,QAAA;IACA;IACAC,SAAAC,MAAA;MACA;MACA,MAAAC,MAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA,OAAAA,MAAA,CAAAD,MAAA;IACA;IACAE,QAAAC,IAAA;MACAb,SAAA,CAAAc,MAAA;QACAC,QAAA,OAAAC,eAAA,CAAAC,EAAA;QACAC,MAAA,EAAAL,IAAA,CAAAH,MAAA;QACAS,QAAA;MACA;IACA;IACAC,SAAAP,IAAA;MACAb,SAAA,CAAAc,MAAA;QACAC,QAAA,OAAAC,eAAA,CAAAC,EAAA;QACAC,MAAA,EAAAL,IAAA,CAAAI,EAAA;QACAE,QAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}