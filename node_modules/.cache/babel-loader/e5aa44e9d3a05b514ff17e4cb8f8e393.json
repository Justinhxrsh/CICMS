{"remainingRequest":"/home/justin/Desktop/CICMS/node_modules/thread-loader/dist/cjs.js!/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js!/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/justin/Desktop/CICMS/src/components/ChatLog.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/justin/Desktop/CICMS/src/components/ChatLog.vue","mtime":1771824229865},{"path":"/home/justin/Desktop/CICMS/babel.config.js","mtime":1771823009049},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/thread-loader/dist/cjs.js","mtime":1771824225135},{"path":"/home/justin/Desktop/CICMS/node_modules/babel-loader/lib/index.js","mtime":1771824228601},{"path":"/home/justin/Desktop/CICMS/node_modules/cache-loader/dist/cjs.js","mtime":1771824225125},{"path":"/home/justin/Desktop/CICMS/node_modules/vue-loader/lib/index.js","mtime":1771824228358}],"contextDependencies":[],"result":["import { mapState } from 'vuex';\nimport wsService from '../services/websocket';\nexport default {\n  name: 'ChatLog',\n  data() {\n    return {\n      inputMsg: ''\n    };\n  },\n  computed: {\n    ...mapState('chat', ['messages']),\n    ...mapState('player', {\n      myId: 'id'\n    })\n  },\n  watch: {\n    messages() {\n      this.$nextTick(this.scrollToBottom);\n    }\n  },\n  mounted() {\n    this.scrollToBottom();\n  },\n  methods: {\n    formatTime(ts) {\n      if (!ts) return '';\n      const date = new Date(ts);\n      return date.getHours().toString().padStart(2, '0') + ':' + date.getMinutes().toString().padStart(2, '0');\n    },\n    sendMessage() {\n      const msg = this.inputMsg.trim();\n      if (!msg) return;\n      wsService.chat(msg);\n      this.inputMsg = '';\n    },\n    scrollToBottom() {\n      const box = this.$refs.messageBox;\n      if (box) box.scrollTop = box.scrollHeight;\n    }\n  }\n};",{"version":3,"names":["mapState","wsService","name","data","inputMsg","computed","myId","watch","messages","$nextTick","scrollToBottom","mounted","methods","formatTime","ts","date","Date","getHours","toString","padStart","getMinutes","sendMessage","msg","trim","chat","box","$refs","messageBox","scrollTop","scrollHeight"],"sources":["src/components/ChatLog.vue"],"sourcesContent":["<template>\n  <div class=\"chat-log\">\n    <div class=\"chat-messages\" ref=\"messageBox\">\n      <div\n        v-for=\"msg in messages\"\n        :key=\"msg.id\"\n        class=\"chat-entry\"\n      >\n        <span class=\"chat-time\">[{{ formatTime(msg.timestamp) }}]</span>\n        <span class=\"chat-name\" :class=\"{ self: msg.playerId === myId }\">{{ msg.playerName }}:</span>\n        <span class=\"chat-text\">{{ msg.message }}</span>\n      </div>\n    </div>\n    <div class=\"chat-input-container\">\n      <input\n        v-model=\"inputMsg\"\n        type=\"text\"\n        placeholder=\"Type to chat...\"\n        maxlength=\"100\"\n        @keyup.enter=\"sendMessage\"\n        spellcheck=\"false\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport wsService from '../services/websocket';\n\nexport default {\n  name: 'ChatLog',\n  data() {\n    return {\n      inputMsg: '',\n    };\n  },\n  computed: {\n    ...mapState('chat', ['messages']),\n    ...mapState('player', { myId: 'id' }),\n  },\n  watch: {\n    messages() {\n      this.$nextTick(this.scrollToBottom);\n    },\n  },\n  mounted() {\n    this.scrollToBottom();\n  },\n  methods: {\n    formatTime(ts) {\n      if (!ts) return '';\n      const date = new Date(ts);\n      return date.getHours().toString().padStart(2, '0') + ':' +\n             date.getMinutes().toString().padStart(2, '0');\n    },\n    sendMessage() {\n      const msg = this.inputMsg.trim();\n      if (!msg) return;\n      wsService.chat(msg);\n      this.inputMsg = '';\n    },\n    scrollToBottom() {\n      const box = this.$refs.messageBox;\n      if (box) box.scrollTop = box.scrollHeight;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.chat-log {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: rgba(0, 0, 0, 0.4);\n  overflow: hidden;\n  height: 300px;\n}\n\n.chat-messages {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.chat-entry {\n  font-size: 12px;\n  line-height: 1.4;\n  word-wrap: break-word;\n}\n\n.chat-time {\n  color: rgba(255, 255, 255, 0.3);\n  margin-right: 6px;\n}\n\n.chat-name {\n  font-weight: 700;\n  color: #4a90e2;\n  margin-right: 6px;\n}\n\n.chat-name.self {\n  color: #f5d44a;\n}\n\n.chat-text {\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.chat-input-container {\n  padding: 8px;\n  background: rgba(0, 0, 0, 0.2);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.chat-input-container input {\n  width: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  border: 1px solid rgba(255, 200, 50, 0.2);\n  border-radius: 4px;\n  padding: 6px 10px;\n  color: white;\n  font-size: 12px;\n  outline: none;\n  box-sizing: border-box;\n}\n\n.chat-input-container input:focus {\n  border-color: rgba(255, 200, 50, 0.5);\n}\n</style>\n"],"mappings":"AA2BA,SAAAA,QAAA;AACA,OAAAC,SAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAL,QAAA;IACA,GAAAA,QAAA;MAAAM,IAAA;IAAA;EACA;EACAC,KAAA;IACAC,SAAA;MACA,KAAAC,SAAA,MAAAC,cAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAD,cAAA;EACA;EACAE,OAAA;IACAC,WAAAC,EAAA;MACA,KAAAA,EAAA;MACA,MAAAC,IAAA,OAAAC,IAAA,CAAAF,EAAA;MACA,OAAAC,IAAA,CAAAE,QAAA,GAAAC,QAAA,GAAAC,QAAA,iBACAJ,IAAA,CAAAK,UAAA,GAAAF,QAAA,GAAAC,QAAA;IACA;IACAE,YAAA;MACA,MAAAC,GAAA,QAAAlB,QAAA,CAAAmB,IAAA;MACA,KAAAD,GAAA;MACArB,SAAA,CAAAuB,IAAA,CAAAF,GAAA;MACA,KAAAlB,QAAA;IACA;IACAM,eAAA;MACA,MAAAe,GAAA,QAAAC,KAAA,CAAAC,UAAA;MACA,IAAAF,GAAA,EAAAA,GAAA,CAAAG,SAAA,GAAAH,GAAA,CAAAI,YAAA;IACA;EACA;AACA","ignoreList":[]}]}